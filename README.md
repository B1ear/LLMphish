# LLMPhish - æ™ºèƒ½é’“é±¼é‚®ä»¶æ£€æµ‹ç³»ç»Ÿ

åŸºäºæœºå™¨å­¦ä¹ å’Œå¤§è¯­è¨€æ¨¡å‹çš„é’“é±¼é‚®ä»¶æ£€æµ‹ç³»ç»Ÿï¼Œé›†æˆå¤šç§æ£€æµ‹æ–¹æ³•ï¼Œæä¾›é«˜å‡†ç¡®ç‡çš„é‚®ä»¶å®‰å…¨åˆ†æã€‚

## âœ¨ ç‰¹æ€§

### å¤šæ¨¡å‹èåˆæ£€æµ‹
- **ç®€åŒ– PhishMMF æ¨¡å‹**ï¼š96% å‡†ç¡®ç‡ï¼ŒAUC 0.98+ï¼Œä½¿ç”¨ 35 ä¸ªå¯æå–ç‰¹å¾
- **IsolationForest**ï¼šæ— ç›‘ç£å¼‚å¸¸æ£€æµ‹
- **è§„åˆ™æ£€æµ‹**ï¼šåŸºäºå…³é”®è¯å’Œæ¨¡å¼çš„å¿«é€Ÿç­›é€‰
- **LLM è¯­ä¹‰æ£€æµ‹**ï¼ˆå¯é€‰ï¼‰ï¼šæ”¯æŒ Qwen å’Œ DeepSeekï¼Œæ·±åº¦è¯­ä¹‰ç†è§£

### ç°ä»£åŒ– Web ç•Œé¢
- ğŸ“§ é‚®ä»¶ä¸Šä¼ å’Œé¢„è§ˆ
- ğŸ“Š å®æ—¶æ£€æµ‹ç»“æœå±•ç¤º
- ğŸ¨ å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸŒ“ æ·±è‰²æ¨¡å¼æ”¯æŒ
- ğŸ“ é™„ä»¶é¢„è§ˆå’Œä¸‹è½½

### é«˜æ€§èƒ½æ¶æ„
- FastAPI åç«¯ï¼Œå¼‚æ­¥å¤„ç†
- Vue 3 å‰ç«¯ï¼Œç»„ä»¶åŒ–è®¾è®¡
- RESTful APIï¼Œæ˜“äºé›†æˆ
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Node.js 16+
- npm æˆ– yarn

### å®‰è£…

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/LLMPhish.git
cd LLMPhish
```

#### 2. å®‰è£…åç«¯ä¾èµ–

```bash
cd backend
pip install -r requirements.txt
```

#### 3. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd ../frontend
npm install
# æˆ–
yarn install
```

### é…ç½®

#### ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨ LLM æ£€æµ‹åŠŸèƒ½ï¼Œåˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# é˜¿é‡Œäº‘ DashScope (Qwen)
DASHSCOPE_API_KEY=your_dashscope_api_key

# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key
```

### è¿è¡Œ

#### å¯åŠ¨åç«¯

```bash
cd backend
python run_server.py
```

åç«¯å°†åœ¨ `http://localhost:8000` è¿è¡Œ

#### å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm run dev
# æˆ–
yarn dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` è¿è¡Œ

### è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ä¸Šä¼ é‚®ä»¶

- ç‚¹å‡»"ä¸Šä¼ é‚®ä»¶"æŒ‰é’®
- ç²˜è´´é‚®ä»¶å†…å®¹ï¼ˆæ”¯æŒ EML æ ¼å¼ï¼‰
- ç‚¹å‡»"æäº¤æ£€æµ‹"

### 2. æŸ¥çœ‹ç»“æœ

ç³»ç»Ÿä¼šæ˜¾ç¤ºï¼š
- æ˜¯å¦ä¸ºé’“é±¼é‚®ä»¶
- é£é™©è¯„åˆ†ï¼ˆ0-1ï¼‰
- å„æ¨¡å‹çš„æ£€æµ‹ç»“æœ
- è¯¦ç»†çš„ç‰¹å¾åˆ†æ

### 3. API ä½¿ç”¨

#### ä¸Šä¼ é‚®ä»¶

```bash
POST /api/emails/upload
Content-Type: application/json

{
  "content": "é‚®ä»¶å†…å®¹..."
}
```

#### æ£€æµ‹é‚®ä»¶

```bash
POST /api/detection/{email_id}
```

#### ä½¿ç”¨ç®€åŒ– PhishMMF æ£€æµ‹

```bash
POST /api/detection/phishmmf/{email_id}
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
LLMPhish/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ routers/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ model.py        # æ¨¡å‹åŠ è½½
â”‚   â”‚   â”œâ”€â”€ simplified_phishmmf_features.py  # ç‰¹å¾æå–
â”‚   â”‚   â”œâ”€â”€ llm_service.py  # LLM æœåŠ¡
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ models/             # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ phishmmf_simplified_rf.joblib
â”‚   â”‚   â”œâ”€â”€ phishmmf_simplified_xgb.joblib
â”‚   â”‚   â””â”€â”€ phishmmf_simplified_scaler.joblib
â”‚   â”œâ”€â”€ train_phishmmf_model.py  # æ¨¡å‹è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ run_server.py
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ test_emails/           # æµ‹è¯•é‚®ä»¶æ ·æœ¬
â”œâ”€â”€ PhishMMF-main/         # PhishMMF è®­ç»ƒæ•°æ®
â””â”€â”€ README.md
```

## ğŸ¤– æ¨¡å‹è¯´æ˜

### ç®€åŒ– PhishMMF æ¨¡å‹

åŸºäº PhishMMF æ•°æ®é›†è®­ç»ƒçš„ç®€åŒ–ç‰ˆæœ¬ï¼Œåªä½¿ç”¨ 35 ä¸ªå¯ä»é‚®ä»¶ä¸­ç›´æ¥æå–çš„ç‰¹å¾ï¼š

**ç‰¹å¾ç±»åˆ«**ï¼š
- æ–‡æœ¬ç‰¹å¾ï¼ˆ24ç»´ï¼‰ï¼šä¸»é¢˜ã€å‘ä»¶äººã€æ­£æ–‡åˆ†æ
- URL åŸºç¡€ç‰¹å¾ï¼ˆ11ç»´ï¼‰ï¼šåŸŸåã€è·¯å¾„ã€å‚æ•°åˆ†æ

**æ€§èƒ½æŒ‡æ ‡**ï¼š
- å‡†ç¡®ç‡ï¼š96%
- AUC-ROCï¼š0.9853 (RF), 0.9876 (XGB)
- F1-Scoreï¼š0.96

**ä¼˜åŠ¿**ï¼š
- âœ… ä¸ä¾èµ–å¤–éƒ¨æ•°æ®ï¼ˆURL OSINTã€ç½‘ç«™æˆªå›¾ï¼‰
- âœ… å¯ä»¥è‡ªåŠ¨åŒ–æå–ç‰¹å¾
- âœ… æ¯«ç§’çº§å“åº”
- âœ… æˆæœ¬ä½

### é‡æ–°è®­ç»ƒæ¨¡å‹

å¦‚æœéœ€è¦é‡æ–°è®­ç»ƒæ¨¡å‹ï¼š

```bash
cd backend
python train_phishmmf_model.py
```

è®­ç»ƒæ•°æ®æ¥è‡ª [PhishMMF](https://github.com/phishmmf/phishmmf) é¡¹ç›®ã€‚

## ğŸ”§ å¼€å‘

### æ·»åŠ æ–°çš„æ£€æµ‹æ–¹æ³•

1. åœ¨ `backend/app/` ä¸­åˆ›å»ºæ–°çš„æ£€æµ‹æ¨¡å—
2. åœ¨ `backend/app/routers/detection.py` ä¸­æ·»åŠ è·¯ç”±
3. æ›´æ–°å‰ç«¯æ˜¾ç¤ºé€»è¾‘

### è‡ªå®šä¹‰ç‰¹å¾

ç¼–è¾‘ `backend/app/simplified_phishmmf_features.py` æ·»åŠ æ–°ç‰¹å¾ã€‚

## ğŸ“Š API æ–‡æ¡£

å¯åŠ¨åç«¯åï¼Œè®¿é—® `http://localhost:8000/docs` æŸ¥çœ‹å®Œæ•´çš„ API æ–‡æ¡£ï¼ˆSwagger UIï¼‰ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [PhishMMF](https://github.com/phishmmf/phishmmf) - æä¾›è®­ç»ƒæ•°æ®é›†
- [FastAPI](https://fastapi.tiangolo.com/) - åç«¯æ¡†æ¶
- [Vue 3](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [scikit-learn](https://scikit-learn.org/) - æœºå™¨å­¦ä¹ åº“
- [XGBoost](https://xgboost.readthedocs.io/) - æ¢¯åº¦æå‡åº“

## ğŸ“® è”ç³»

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚
